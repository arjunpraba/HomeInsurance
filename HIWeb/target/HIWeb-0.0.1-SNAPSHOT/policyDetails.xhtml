<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Policy Details - Claim Submission</title>
    <h:outputStylesheet>
        /* <![CDATA[ */
        body {
            background-color: #f4f7f9;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* Panel Styling */
        .policy-panel {
            border: none !important;
        }
        
        .policy-panel .ui-panel-titlebar {
            background: #ffffff !important;
            border: none !important;
            font-size: 1.6em;
            color: #444;
            padding: 20px 25px 10px 25px;
        }
        
        .policy-panel .ui-panel-content {
            padding: 10px 30px 30px 30px;
        }

        /* Grid & Row Styling */
        .policy-grid .ui-panelgrid-cell {
            padding: 15px 10px !important;
            border-bottom: 1px solid #edf2f7;
        }

        /* Label and Value Styling */
        .label-style {
            font-weight: 600;
            color: #555;
            display: flex;
            align-items: center;
        }
        
        .value-container {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 15px;
        }
        
        .amount-text {
            color: #2c3e50;
            font-weight: 700;
            font-size: 1.1em;
        }
        
        /* Checkbox Styling */
        .required-checkbox .ui-chkbox-box {
            border: 2px solid #ddd !important;
            border-radius: 4px !important;
        }
        
        .required-checkbox .ui-state-active {
            background-color: #2196F3 !important;
            border-color: #2196F3 !important;
        }
        
        .required-checkbox .ui-state-focus {
            box-shadow: 0 0 5px #2196F3 !important;
        }

        /* Input and Button Styling */
        .claim-textarea textarea {
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 12px;
            font-family: inherit;
        }
        
        .submit-btn {
            background-color: #2196F3 !important;
            border: none !important;
            color: white !important;
            font-weight: bold !important;
            padding: 8px 0 !important;
            width: 250px;
            transition: background 0.3s;
        }
        
        .submit-btn:hover {
            background-color: #1976D2 !important;
        }
        
        /* Validation Styling */
        .validation-error {
            color: #d32f2f;
            font-size: 0.9em;
            margin-top: 5px;
        }
        
        .ui-messages-error {
            background-color: #ffebee !important;
            border-color: #ef9a9a !important;
            color: #c62828 !important;
        }
        
        .ui-state-error {
            border-color: #d32f2f !important;
        }
        
        /* Instruction Text */
        .checkbox-instruction {
            color: #666;
            font-size: 0.95em;
            font-style: italic;
            margin-bottom: 20px;
            padding: 10px 15px;
            background-color: #f8f9fa;
            border-left: 4px solid #2196F3;
            border-radius: 4px;
        }
        /* ]]> */
    </h:outputStylesheet>
</h:head>
<h:body>

    <h:form id="claimForm">
        <p:panel header="Claim Policy Details" styleClass="policy-panel" 
                 style="max-width:800px; margin:40px auto; box-shadow:0 10px 25px rgba(0,0,0,0.05); border-radius:12px;">

            <p:messages id="msgs" showDetail="true" closable="true" severity="error,info" />
            
            <div class="checkbox-instruction">
                <i class="pi pi-info-circle" style="margin-right: 8px;"></i>
                Please tick all checkboxes to acknowledge the coverage amounts before submitting your claim.
            </div>

            <p:panelGrid columns="2" 
                         layout="grid" 
                         columnClasses="ui-grid-col-5 label-style, ui-grid-col-7"
                         styleClass="policy-grid ui-panelgrid-blank ui-fluid">

                <h:outputLabel for="policyId" value="Policy Id"/>
                <h:outputText id="policyId" value="#{retriveQuoteBean.policy.policyId}" 
                             style="color:#777; font-weight:normal;"/>

                <h:outputLabel for="dwellingCheckbox" value="Dwelling Coverage"/>
                <h:panelGroup styleClass="value-container">
                    <p:selectBooleanCheckbox id="dwellingCheckbox" 
                                            styleClass="required-checkbox"
                                            required="true"
                                            requiredMessage="Please tick to acknowledge dwelling coverage amount"/>
                    <h:outputText value="#{retriveQuoteBean.policy.dwellingCoverage}" styleClass="amount-text">
                        <f:convertNumber type="currency" currencySymbol="$"/>
                    </h:outputText>
                </h:panelGroup>

                <h:outputLabel for="detachedCheckbox" value="Detached Structures"/>
                <h:panelGroup styleClass="value-container">
                    <p:selectBooleanCheckbox id="detachedCheckbox"
                                            styleClass="required-checkbox"
                                            required="true"
                                            requiredMessage="Please tick to acknowledge detached structures coverage amount"/>
                    <h:outputText value="#{retriveQuoteBean.policy.detachedStructures}" styleClass="amount-text">
                        <f:convertNumber type="currency" currencySymbol="$"/>
                    </h:outputText>
                </h:panelGroup>

                <h:outputLabel for="personalCheckbox" value="Personal Property"/>
                <h:panelGroup styleClass="value-container">
                    <p:selectBooleanCheckbox id="personalCheckbox"
                                            styleClass="required-checkbox"
                                            required="true"
                                            requiredMessage="Please tick to acknowledge personal property coverage amount"/>
                    <h:outputText value="#{retriveQuoteBean.policy.personalProperty}" styleClass="amount-text">
                        <f:convertNumber type="currency" currencySymbol="$"/>
                    </h:outputText>
                </h:panelGroup>

                <h:outputLabel for="medicalCheckbox" value="Medical Expense"/>
                <h:panelGroup styleClass="value-container">
                    <p:selectBooleanCheckbox id="medicalCheckbox"
                                            styleClass="required-checkbox"
                                            required="true"
                                            requiredMessage="Please tick to acknowledge medical expense coverage amount"/>
                    <h:outputText value="#{retriveQuoteBean.policy.medicalExpense}" styleClass="amount-text">
                        <f:convertNumber type="currency" currencySymbol="$"/>
                    </h:outputText>
                </h:panelGroup>

                <h:outputLabel for="livingCheckbox" value="Additional Living Expense"/>
                <h:panelGroup styleClass="value-container">
                    <p:selectBooleanCheckbox id="livingCheckbox"
                                            styleClass="required-checkbox"
                                            required="true"
                                            requiredMessage="Please tick to acknowledge additional living expense coverage amount"/>
                    <h:outputText value="#{retriveQuoteBean.policy.additionalLivingExpense}" styleClass="amount-text">
                        <f:convertNumber type="currency" currencySymbol="$"/>
                    </h:outputText>
                </h:panelGroup>

                <h:outputLabel for="deductibleCheckbox" value="Deductible"/>
                <h:panelGroup styleClass="value-container">
                    <p:selectBooleanCheckbox id="deductibleCheckbox"
                                            styleClass="required-checkbox"
                                            required="true"
                                            requiredMessage="Please tick to acknowledge deductible amount"/>
                    <h:outputText value="#{retriveQuoteBean.policy.deductible}" styleClass="amount-text">
                        <f:convertNumber type="currency" currencySymbol="$"/>
                    </h:outputText>
                </h:panelGroup>

            </p:panelGrid>

            <div class="claim-textarea" style="margin-top:40px;">
                <p:outputLabel for="reason" value="Reason for Claim *" 
                               style="display:block; margin-bottom:12px; font-weight:600; color:#444;"/>
                <p:inputTextarea id="reason" 
                                 value="#{retriveQuoteBean.claimReason}"
                                 required="true"
                                 requiredMessage="Please provide a reason for your claim"
                                 rows="4" 
                                 style="width:100%;"
                                 placeholder="Please describe the reason for your claim..."/>
            </div>

            <p:spacer height="30"/>

            <div style="text-align:center;">
                <p:commandButton value="Submit Claim"
                                 action="#{retriveQuoteBean.submitClaim}"
                                 update="@form"
                                 icon="pi pi-send"
                                 styleClass="submit-btn"
                                 process="@form"/>
                
                <p:spacer height="10"/>
                
                <p:commandButton value="Clear Form"
                                 type="reset"
                                 icon="pi pi-refresh"
                                 styleClass="ui-button-secondary"
                                 onclick="PF('msgs').clear();"
                                 immediate="true"
                                 style="width:150px; margin-left:10px;"/>
            </div>

            <p:spacer height="20"/>
            
            <div style="text-align:center; color:#666; font-size:0.9em;">
                <i class="pi pi-shield" style="margin-right:5px;"></i>
                By submitting this claim, you acknowledge that all information provided is accurate and complete.
            </div>

        </p:panel>
    </h:form>

    <!-- Optional: Add JavaScript for better UX -->
    <h:outputScript>
        // <![CDATA[
        $(document).ready(function() {
            // Add visual feedback when checkboxes are validated
            function setupCheckboxValidation() {
                $('.required-checkbox').each(function() {
                    var $checkbox = $(this);
                    var $input = $checkbox.find('input[type="checkbox"]');
                    
                    $input.on('change', function() {
                        if ($(this).is(':checked')) {
                            $checkbox.removeClass('ui-state-error');
                        }
                    });
                });
            }
            
            // Clear messages on checkbox click
            $('.required-checkbox').on('click', function() {
                setTimeout(function() {
                    PF('msgs').clear();
                }, 100);
            });
            
            setupCheckboxValidation();
        });
        // ]]>
    </h:outputScript>

</h:body>
</html>